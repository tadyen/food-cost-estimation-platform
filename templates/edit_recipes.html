{% extends "base.html" %}
{% block styles %}
<style>
    .wrapper{
        margin: 0 auto;
        width: 90vw;
    }
    #a_this_table_number{
        border: solid 1px white;
    }
</style>
{% endblock %}
{% block main_content%}
<div class="wrapper">
<table class="ui celled very compact small striped table inverted">
    <thead><tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Tags</th>
        <th>edit/save/create</th>
        <th>delete</th>
    </tr></thead>
    <tbody>
        {% for tup in recipes %}
            {% set id = tup[0] | int %}
            <tr>
                <th>{{tup[0]}}</th>
                <th>{{tup[1]}}</th>
                <th>{{tup[2]}}</th>
                <th>{{tup[3]}}</th>
                <th>
                    <button class="ui button inverted" id="b_edit_{{id}}">Edit</button>
                </th>
                <th>
                    <button class="ui button inverted" id="b_del_{{id}}">Delete</button>
                </th>
            </tr>
        {% endfor %}
    </tbody>
    <tfoot>
      <tr>
        <th colspan="4">
        <div class="ui right floated pagination menu inverted">
            {% if current_page != 1  %}
                <a class="icon item"href="/edit_recipes?tableNum={{1}}">
                    <i class="angle double left icon" ></i>
                </a>
                <a class="icon item" href="/edit_recipes?tableNum={{current_page-1}}">
                    <i class="angle left icon"></i>
                </a>
                <a class="item" href="/edit_recipes?tableNum={{current_page-1}}">{{current_page-1}}</a>
            {% endif %}
            <a class="item" id="a_this_table_number">{{current_page}}</a>
            {% set page_num = current_page + 1%}
            {% set end_page_num = current_page + 3 %}
            {% if end_page_num > no_of_pages %}
                {% set end_page_num = no_of_pages %}
            {% endif %}
            {% for x in range(page_num, end_page_num+1) %}
                <a class="item" href="/edit_recipes?tableNum={{x}}">{{x}}</a>
            {% endfor %}
            {% if not (current_page >= no_of_pages) %}
                <a class="icon item" href="/edit_recipes?tableNum={{current_page+1}}">
                    <i class="angle right icon"></i>
                </a>
                <a class="icon item" href="/edit_recipes?tableNum={{no_of_pages}}">
                    <i class="angle double right icon"></i>
                </a>
            {% endif %}
        </div>
      </th>
      {% set last_entry_index = starting_index + recipes|length %}
      <th colspan="2">Page {{current_page}} of {{no_of_pages}}, Entries {{starting_index+1}}-{{last_entry_index}} shown</th>
    </tr></tfoot>
</table>
</div>
{% endblock %}
{% block scripts %}
<script>
</script>
{% endblock %}